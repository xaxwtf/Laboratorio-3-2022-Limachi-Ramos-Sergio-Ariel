<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSP</title>
</head>
<body>
    <main>
        <div class="Espera">
            <svg xmlns="http://www.w3.org/2000/svg" width="300" height="300">
                <circle id="arc1" class="circle" cx="150" cy="150" r="120" opacity=".89" fill="none" stroke="#632b26" stroke-width="12" stroke-linecap="square" stroke-opacity=".99213" paint-order="fill markers stroke"/>
                <circle id="arc2" class="circle" cx="150" cy="150" r="120" opacity=".49" fill="none" stroke="#632b26" stroke-width="8" stroke-linecap="square" stroke-opacity=".99213" paint-order="fill markers stroke"/>
                <circle id="arc3" class="circle" cx="150" cy="150" r="100" opacity=".49" fill="none" stroke="#632b26" stroke-width="20" stroke-linecap="square" stroke-opacity=".99213" paint-order="fill markers stroke"/>
                <circle id="arc4" class="circle" cx="150" cy="150" r="120" opacity=".49" fill="none" stroke="#632b26" stroke-width="30" stroke-linecap="square" stroke-opacity=".99213" paint-order="fill markers stroke"/>
                <circle id="arc5" class="circle" cx="150" cy="150" r="100" opacity=".89" fill="none" stroke="#632b26" stroke-width="8" stroke-linecap="square" stroke-opacity=".99213" paint-order="fill markers stroke"/>
                <circle id="arc6" class="circle" cx="150" cy="150" r="90" opacity=".49" fill="none" stroke="#632b26" stroke-width="16" stroke-linecap="square" stroke-opacity=".99213" paint-order="fill markers stroke"/>
                <circle id="arc7" class="circle" cx="150" cy="150" r="90" opacity=".89" fill="none" stroke="#632b26" stroke-width="8" stroke-linecap="square" stroke-opacity=".99213" paint-order="fill markers stroke"/>
                <circle id="arc8" class="circle" cx="150" cy="150" r="80" opacity=".79" fill="#4DD0E1"
              fill-opacity="10%"         stroke="#632b26" stroke-width="8" stroke-linecap="square" stroke-opacity=".99213" paint-order="fill markers stroke"/>
                <--text id="text" x="126" y="125">
                  ITER
                </--text>
                <--text id="text" x="90" y="155">
                  ROBOTICS
                </--text>
                <--text id="text" x="126" y="185">
                  CLUB
                </--text>
                
              </svg>
        </div>
                <section id="principal">
                    <h1>Datos</h1>
                    <table id="miTabla">
                    <thead>
                        <th class="id" id=""> ID </th>
                        <th class="nombre" id=""> nombre </th>
                        <th class="apellido" id=""> apellido </th>
                        <th class="edad" id=""> Edad </th>
                        <th class="sueldo" id=""> Sueldo </th>
                        <th class="ventas" id=""> Ventas </th>
                        <th class="compras" id=""> Compras </th>
                        <th class="telefono" id=""> Telefono </th>

                    </thead>
                    </table>
                
                </section>
                <button  id="agregar">AGREGAR</button>
                <section id="desplegable" class="invisible">
                    <form action="" name="fAgregar" id="fAgregar"  enctype="multipart/form-data">
                        <p>ID:</p>
                        <input type="text" disabled name="id">
                        <p>nombre</p>
                        <input type="text" name="nombre">
                        <p>Apellido</p>
                        <input type="text" name="apellido">
                        <p>Edad</p>
                        <input type="text" name="edad">
                        <p> Tipo</p>
                        <select name="tipo" id="tipox" >
                            <option value="Empleado">Empleado</option> 
                            <option value="Cliente">Cliente</option> 
                        </select>
                    </form>
                    <section>
                        <button id="alta" > Agregar </button>
                    </section>
                    
                </section> 
    </main>




    <script>
   
    class Persona{
        id;
        nombre;
        apellido;
        edad;
        constructor(id, nombre, apellido, edad){
            this.id=id;
            this.nombre=nombre;
            this.apellido=apellido;
            this.edad=edad;
        }
        toString(){
            return '"nombre":"'+ this.nombre+'","apellido":"'+this.apellido+'","edad":"'+this.edad+'"';
        }
        toStringRow(){
            return '<td class="id">'+this.id+'</td><td class="nombre">'+this.nombre+'</td><td class="apellido">'+this.apellido+'</td><td class="edad">'+this.edad+'</td>';
        }
        toJson(){
            return '"id":"'+ this.id+'","nombre":"'+ this.nombre+'","apellido":"'+this.apellido+'","edad":'+this.edad;
        }
    }
    class Empleado extends Persona{
        sueldo;
        ventas;
        constructor(id, nombre,apellido, edad , sueldo, ventas){
            super(id,nombre,apellido,edad);
            this.sueldo=sueldo;
            this.ventas=ventas;
        }
        toString(){
            return '{'+super.toString()+',"sueldo":"'+ this.sueldo+'","ventas":"'+this.ventas+'"}';
        }
        toStringRow(){
            return '<tr>'+super.toStringRow()+'<td class="sueldo">'+this.sueldo+'</td><td class="ventas">'+this.ventas+'</td> <td class="compras">N/A</td><td class="telefono">N/A</td> <td> <button id="m'+this.id+'"> Modificiar </button> </td> <td> <button id="d'+this.id+'"> Eliminar</button> </td> </tr>';
        }
        toJson(){
            return '{'+super.toJson()+',"sueldo":'+ this.sueldo+',"ventas":'+this.ventas+'}';
        }
    }
    class Cliente extends Persona{
        compras;
        telefono;
        constructor(id, nombre,apellido, edad , compras, telefono){
            super(id,nombre,apellido,edad);
            this.compras=compras;
            this.telefono=telefono;
        }
        toString(){
            return '{'+super.toString()+',"compras":"'+ this.compras+'","telefono":"'+this.telefono+'"}'
        }
        toStringRow(){
            return '<tr>'+super.toStringRow()+'<td class="sueldo">'+'N/A'+'</td><td class="ventas">'+'N/A'+'</td> <td class="compras">'+this.compras+'</td><td class="telefono">'+this.telefono+'</td> <td> <button id="m'+this.id+'"> Modificiar </button> </td> <td> <button id="d'+this.id+'"> Eliminar</button> </td> </tr>';
        }
        toJson(){
            return '{'+super.toJson()+',"compras":"'+ this.compras+'","telefono":'+this.telefono+'}'
        }
    }
    
    let datosCargados=new Array();

    const tabla=document.getElementById('miTabla');

function CargarTodo(){
    for(let i=0;i<datosCargados.length;i++){
        tabla.insertRow(-1).innerHTML = datosCargados[i].toStringRow();
        addEventoModificar(datosCargados[i].id);
        addEventoDelete(datosCargados[i].id);
    }
};
function limpiarTabla(){
    var table = document.getElementById("miTabla");
    var rowCount = table.rows.length;
    for(let i=rowCount;i>1;i--){
        table.deleteRow(i -1);
    }
}

document.querySelector('button#agregar').addEventListener('click',e=>{
    e.preventDefault();
    limpiarFormulario();
    OcultarUMostarFormulario();
    ActivarIputs();
});

function CargarFormularioSegunTypo(){
    const myform=document.forms['fAgregar'];
    var input = document.createElement("input");
    var input2=document.createElement("input");
    
    input.id="myInputD1";
    input2.id="myInputD2";
    

    let i1=document.getElementById("myInputD1");
    let i2=document.getElementById("myInputD2");
    

    if(i1!=undefined && i2!=undefined ){
        myform.removeChild(i1);
        myform.removeChild(i2);
       
    }
    let filtro=document.querySelector('form select#tipox');
    if(filtro.options[filtro.selectedIndex].value == "Empleado"){
        input.name="sueldo";
        input.placeholder="Sueldo";
        
        input2.name= "ventas";
        input2.placeholder="Ventas";

    }
    else{
        input.name="compras";
        input.placeholder="Compras";
        
        input2.name= "telefono";
        input2.placeholder="Telefono";
    }
    myform.appendChild(input);
    myform.appendChild(input2);
}

CargarFormularioSegunTypo();
document.querySelector('form select#tipox').addEventListener('change',CargarFormularioSegunTypo);

function Alta(){
    const myform=document.forms['fAgregar'];
    let nuevo;
    if(myform.tipo.options[myform.tipo.selectedIndex].value == "Empleado"){
        nuevo=new Empleado(1,myform.nombre.value,myform.apellido.value,myform.edad.value,myform.sueldo.value,myform.ventas.value);
    }
    else{
        nuevo=new Cliente(1,myform.nombre.value,myform.apellido.value,myform.edad.value,myform.compras.value,myform.telefono.value)
    }
    modoEsperaActivarDesactivar();
        
    fetch('http://localhost/PersonasEmpleadosClientes.php', {
            headers: {
                'Content-Type': 'application/json'
            },
            method: 'PUT',
            body:nuevo.toString()
    }).then( response =>{
        if(response.ok) {
            return response.json();
            
        } 
    }).then(r=>{
        
        nuevo.id=r.id
            datosCargados.push(nuevo);
            limpiarTabla();
            CargarTodo();
            OcultarUMostarFormulario();
            modoEsperaActivarDesactivar();
    })  
    
}

function cargarInfoConXml(){
    let connexion= new XMLHttpRequest();
        connexion.onreadystatechange=function(){
            if(this.readyState==4 && this.status==200){
                let aux=JSON.parse(this.responseText);
                CargarDatosaDatos(aux);
                CargarTodo();
                document.querySelector("div.Espera").style.display="none";
                document.querySelector("#principal").style.display="flex";
            }
        }
        connexion.open("GET","http://localhost/PersonasEmpleadosClientes.php");
        connexion.setRequestHeader('Content-type', 'application/json');
        connexion.send();
}


document.getElementById('alta').addEventListener('click',(e)=>{
    e.preventDefault();
    let error=false;

    const myform=document.forms['fAgregar'];
    if(myform.nombre.value=="") {
            error=true;
            myform.nombre.style.borderColor= 'red';
    }else {
        myform.nombre.style.borderColor= 'inherit';
    }
    if(myform.apellido.value=="") {
            error=true;
            myform.apellido.style.borderColor= 'red';
    }else {
        myform.apellido.style.borderColor= 'inherit';
    }
    if(myform.edad.value=="") {
            error=true;
            edad.edad.style.borderColor= 'red';
    }else {
        myform.edad.style.borderColor= 'inherit';
    }
    if(myform.tipo.options[myform.tipo.selectedIndex].value=="Empleado"){
        if(myform.sueldo.value=="") {
            error=true;
            myform.sueldo.style.borderColor= 'red';
        }else {
            myform.sueldo.style.borderColor= 'inherit';
        }
        if(myform.ventas.value=="") {
            error=true;
            myform.ventas.style.borderColor= 'red';
        }else {
            myform.ventas.style.borderColor= 'inherit';
        }
        
    }
    else{
        if(myform.compras.value=="") {
            error=true;
            myform.compras.style.borderColor= 'red';
        }else {
            myform.compras.style.borderColor= 'inherit';
        }
        if(myform.telefono.value=="") {
            error=true;
            myform.telefono.style.borderColor= 'red';
        }else {
            myform.telefono.style.borderColor= 'inherit';
        }
        
    }
    if(document.getElementById('alta').innerHTML=="Guardar Cambios"){
         saveChanges();
         
         
    }
    else if(document.getElementById('alta').innerHTML=="Eliminar"){
        Delete(); 
        
    }
    else{
        if(!error){
            Alta();
        }
    }
    
    
});


function limpiarFormulario(){
    const myform=document.forms['fAgregar'];
    myform.id.value="";
    myform.nombre.value="";
    myform.apellido.value="";
    myform.edad.value="";
    if(myform.tipo.options[myform.tipo.selectedIndex].value=="Empleado"){
        myform.sueldo.value= "";
        myform.ventas.value="";
    }
    else{
        myform.compras.value="";
        myform.telefono.value="";
    }
}

function ActivarIputs(){
    const myform=document.forms['fAgregar'];
    myform.nombre.disabled=false;
    myform.apellido.disabled=false;
    myform.edad.disabled=false;
    myform.tipo.disabled=false;
    if(myform.tipo.options[myform.tipo.selectedIndex].value=="Empleado"){
        myform.sueldo.disabled= false;
        myform.ventas.disabled=false;
    }
    else{
        myform.compras.disabled=false;
        myform.telefono.disabled=false;
    }
}

async function  saveChanges(){
    const myform=document.forms['fAgregar'];
    let mod;
    if(myform.id.value!=""){
        for(let i=0;i<datosCargados.length;i++){
            if(datosCargados[i].id==myform.id.value){
                if(datosCargados[i] instanceof Empleado){
                    mod=new Empleado(datosCargados[i].id,myform.nombre.value,myform.apellido.value,myform.edad.value,myform.sueldo.value,myform.ventas.value);
                }
                else if(datosCargados[i] instanceof Cliente){
                    mod=new Cliente(datosCargados[i].id,myform.nombre.value,myform.apellido.value,myform.edad.value,myform.compras.value,myform.telefono.value);
                }
                console.log("CONSULTO!!");
                console.log(mod.toJson());
                modoEsperaActivarDesactivar();
                fetch('http://localhost/PersonasEmpleadosClientes.php', {
                    method: 'POST',
                    body:mod.toJson()
                }).then( async function(response){
                    if(response.ok) {
                        return true;
                    } else {
                        alert("error, no se puede modificar dicho elemento!");
                        return false;
                        //throw "Error en la llamada Ajax";
                    }
                }).then(r=>{
                    if(r){
                        datosCargados[i]=mod;
                    }
                    limpiarTabla();
                    CargarTodo();
                    limpiarFormulario();
                    OcultarUMostarFormulario();
                    modoEsperaActivarDesactivar();

                }).catch(function(err) {
                    console.log(err);
                });
                break;
            }
        }     
    }
}

function  Delete(){
    const myform=document.forms['fAgregar'];
    let mod;

    if(myform.id.value!=""){
        for(let i=0;i<datosCargados.length;i++){
            if(datosCargados[i].id==myform.id.value){
                console.log("INDICE "+ i);
                if(datosCargados[i] instanceof Empleado){
                    mod=new Empleado(datosCargados[i].id,myform.nombre.value,myform.apellido.value,myform.edad.value,myform.sueldo.value,myform.ventas.value);
                }
                else if(datosCargados[i] instanceof Cliente){
                    mod=new Cliente(datosCargados[i].id,myform.nombre.value,myform.apellido.value,myform.edad.value,myform.compras.value,myform.telefono.value);
                }
                console.log("CONSULTO!!");
                console.log(mod.toJson());
                modoEsperaActivarDesactivar();
                fetch('http://localhost/PersonasEmpleadosClientes.php', {
                    method: 'DELETE',
                    body:mod.toJson()
                }).then( async function(response){
                    console.log(response);
                    if(response.ok) {
                        console.log("FUE OKEY");
                        datosCargados= datosCargados.filter(function(x) { return x.id !== mod.id });
                        ActivarIputs();
                        
                        limpiarTabla();
                        CargarTodo();
                        limpiarFormulario();
                        OcultarUMostarFormulario();
                        modoEsperaActivarDesactivar();
                        return response.text();
                    } else {
                        alert("error!, no se puede eliminar el elemento!");
                        limpiarTabla();
                        CargarTodo();
                        limpiarFormulario();
                        OcultarUMostarFormulario();
                        modoEsperaActivarDesactivar();
                        //throw "Error en la llamada Ajax";
                    }
                }).catch(function(err) {
                    console.log(err);
                });
                
               
                        
               
            }
        }     
    }
}


function addEventoModificar(idBoton){
    console.log(idBoton);
    document.getElementById("m"+idBoton).addEventListener("click",e=>{
        e.preventDefault();
        
        console.log("HACIENDO CLICK " + idBoton);
        const myform=document.forms['fAgregar'];
        for(let i=0;i<datosCargados.length;i++){
            if(datosCargados[i].id==idBoton){
                if(datosCargados[i] instanceof Empleado){
                    myform.tipo.selectedIndex=0;
                }
                else{
                    myform.tipo.selectedIndex=1;
                }
                
                CargarFormularioSegunTypo();
                limpiarFormulario();
                OcultarUMostarFormulario();
                
                myform.id.value=datosCargados[i].id;
                myform.nombre.value=datosCargados[i].nombre;
                myform.apellido.value=datosCargados[i].apellido;
                myform.edad.value=datosCargados[i].edad;
                if(myform.tipo.options[myform.tipo.selectedIndex].value=="Empleado"){
                myform.sueldo.value=datosCargados[i].sueldo;
                myform.ventas.value=datosCargados[i].ventas;
                
                }
                else if(myform.tipo.options[myform.tipo.selectedIndex].value=="Cliente"){
                    myform.compras.value=datosCargados[i].compras;
                    myform.telefono.value= datosCargados[i].telefono;
                }
                const boton=document.querySelector('button#alta');
                const desplegable=document.querySelector("section#desplegable");
                console.log(boton);
                
                boton.innerHTML="Guardar Cambios";
                desplegable.style.display="flex";
                break;
            }
        }     

    });
}

function addEventoDelete(idBoton){
    console.log(idBoton);
    document.getElementById("d"+idBoton).addEventListener("click",e=>{
        e.preventDefault();
       
        console.log("HACIENDO CLICK " + idBoton);
        const myform=document.forms['fAgregar'];
        for(let i=0;i<datosCargados.length;i++){
            if(datosCargados[i].id==idBoton){
                if(datosCargados[i] instanceof Empleado){
                    myform.tipo.selectedIndex=0;
                }
                else{
                    myform.tipo.selectedIndex=1;
                }
                
                CargarFormularioSegunTypo();
                limpiarFormulario();
                OcultarUMostarFormulario();
                
                myform.id.value=datosCargados[i].id;
                myform.nombre.disabled=true;
                myform.nombre.value=datosCargados[i].nombre;
                myform.apellido.disabled=true;
                myform.apellido.value=datosCargados[i].apellido;
                myform.edad.disabled=true;
                myform.edad.value=datosCargados[i].edad;
                if(myform.tipo.options[myform.tipo.selectedIndex].value=="Empleado"){
                    myform.sueldo.disabled=true;
                myform.sueldo.value=datosCargados[i].sueldo;
                myform.ventas.disabled=true;
                myform.ventas.value=datosCargados[i].ventas;
                
                }
                else if(myform.tipo.options[myform.tipo.selectedIndex].value=="Cliente"){
                    myform.compras.disabled=true;
                    myform.compras.value=datosCargados[i].compras;
                    myform.telefono.disabled=true;
                    myform.telefono.value= datosCargados[i].telefono;
                }
                myform.tipo.disabled=true;
                const boton=document.querySelector('button#alta');
                const desplegable=document.querySelector("section#desplegable");
                console.log(boton);
                
                boton.innerHTML="Eliminar";
                desplegable.style.display="flex";
                break;
            }
        }     

    });
}


function OcultarUMostarFormulario(){
    const boton=document.querySelector('button#agregar');
    const desplegable=document.querySelector("section#desplegable");
    const boton2=document.querySelector('button#alta');
            console.log(boton);
            if(boton.innerHTML=="AGREGAR"){
                desplegable.style.display="flex";
                boton.innerHTML="Cancelar";
                MostrarUOcultarPrincipal();
                limpiarFormulario();
            }
            else{
                boton.innerHTML="AGREGAR";
                desplegable.style.display="none";
                boton2.innerHTML="Agregar"
                MostrarUOcultarPrincipal();
                limpiarFormulario();
            }
}




function cargarInfoConFech(){
    fetch("http://localhost/PersonasEmpleadosClientes.php").then(r=>r.json()).then(r=>{
        CargarDatosaDatos(r);
           CargarTodo();
           document.querySelector("div.Espera").style.display="none";
            document.querySelector("#principal").style.display="flex";
    });   
}

function CargarDatosaDatos(datos){
    for(let i=0;i<datos.length;i++){
        if(datos[i].sueldo!= undefined && datos[i].ventas!=undefined){
            let nuevo=new Empleado(datos[i].id, datos[i].nombre,datos[i].apellido,datos[i].edad, datos[i].sueldo, datos[i].ventas);
            datosCargados.push(nuevo);
        }
        else if(datos[i].compras!=undefined && datos[i].telefono!=undefined){
            let nuevo=new Cliente(datos[i].id, datos[i].nombre,datos[i].apellido,datos[i].edad,datos[i].compras, datos[i].telefono);
            datosCargados.push(nuevo);
        }
    }
}

//cargarInfoConFech();
cargarInfoConXml();

function modoEsperaActivarDesactivar(){
    if(document.querySelector("div.Espera").style.display=="flex"){
        document.querySelector("div.Espera").style.display="none";
    }
    else{
        document.querySelector("div.Espera").style.display="flex";
    }
}

function MostrarUOcultarPrincipal(){
    if(document.querySelector("#principal").style.display=="none"){
        document.querySelector("#principal").style.display="flex";
    }
    else{
        document.querySelector("#principal").style.display="none";
    }

}
    </script>
    <style>



/*stylos del spinner*/
body{
    background: black;
    background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"%3E%3Cg fill-rule="evenodd"%3E%3Cg fill="%239C92AC" fill-opacity="0.4"%3E%3Cpath opacity=".5" d="M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z"/%3E%3Cpath d="M6 5V0H5v5H0v1h5v94h1V6h94V5H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
    opacity: 100%;
    color: white;
  }
  
  svg{
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
  }
  svg circle{
    stroke: #4DD0E1;
  }
  
  .circle{
    transform-origin: center ;
  }
  #arc1{
    stroke-dasharray: 30;
    stroke-dashoffset: 18;
    animation: 10s -2s rota infinite linear;
  }
  #arc3{
    stroke-dasharray: 400;
    stroke-dashoffset: 400;
    animation: 16s 1s rota infinite linear;
  }
  #arc4{
    stroke-dasharray: 400;
    stroke-dashoffset: 400;
    animation: 6s 1s rota infinite linear reverse;
  }
  #arc5{
    stroke-dasharray: 400;
    stroke-dashoffset: 400;
    animation: 4s 1s rota infinite linear;
  }
  #arc6{
    stroke-dasharray: 400;
    stroke-dashoffset: 400;
    animation: 8s 1s rota infinite linear alternate;
  }
  #arc7{
    stroke-dasharray: 400;
    stroke-dashoffset: 400;
    animation: 4s 1s rota infinite linear reverse;
  }
  text{
   fill: #ffffff;
   font: bold 24px sans-serif;
  }
  @keyframes rota{
    from{
      transform: rotate(0deg);
    }
    to{
      transform: rotate(360deg);
    }
  }
  .Espera{
      position: absolute;
      width: 100vw;
      height: 100vh;
      background-color: white;
      opacity: 50%;
  }
  /*fin de estilos del spinner*/
        main{
            width: 100%;
            background: skyblue;
            text-align: center;
        }
        section{
            display: flex;
            flex-direction: row;
            justify-content: center;
            margin: 2%;
            width: 100%;

        }
        section.option{
            margin: 3%;
        }
        section.option div{
            border: 1px solid white;
        }
        table{
            width: 100%;
        }
        th{
            border: 1px solid white;
        }
        td{
            border: 1px solid white;
        }
        section#desplegable{
            flex-direction: column;
            width: 90%;
            margin: 5%;
        }
        section#desplegable form{
            display: flex;
            flex-direction: column;
            width: 50%;
            margin: auto;
        }
        section#desplegable form input{
            margin-top: 2%;
            margin-bottom: 2%;
        
        }
        section#desplegable section{
            flex-direction: row;
        }
        section#desplegable button{
            width: 20%;
            margin: 2%;
        }
        
        .invisible{
            display: none;    
        }
        #principal{
            display: none;
            flex-direction: column;
            margin: auto;
        }
        #principal button{
            width: 10vw;
            margin: auto;

        }
    </style>
    </body>
</html>